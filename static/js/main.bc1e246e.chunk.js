(this.webpackJsonpbloodbank=this.webpackJsonpbloodbank||[]).push([[0],{279:function(e,t,n){},281:function(e,t,n){},302:function(e,t){},311:function(e,t){},329:function(e,t){},331:function(e,t){},348:function(e,t){},349:function(e,t){},413:function(e,t){},415:function(e,t){},424:function(e,t){},426:function(e,t){},451:function(e,t){},453:function(e,t){},454:function(e,t){},459:function(e,t){},461:function(e,t){},474:function(e,t){},486:function(e,t){},489:function(e,t){},494:function(e,t){},505:function(e,t){},508:function(e,t){},561:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(22),r=n.n(o),c=(n(279),n(31)),s=n.n(c),l=n(82),u=n(18),d=(n(281),n(24)),b=n(156),p=n(101),y=n.p+"static/media/blood_donation1.3b79b00a.svg",m=n(593),j=n(563),h=n(263),g=n(597),f=n(256),O=n.n(f),v=n(598),x=n(601),w=n(599),B=n(602),T=n(600),A=n(608),D="0x4DDc498BB78b755077eA0Fd90E1900869e8E63d4",N=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"BloodBottleStatusEvent",type:"event"},{inputs:[{internalType:"string",name:"_agencyType",type:"string"},{internalType:"string",name:"_agencyName",type:"string"},{internalType:"address",name:"_addressID",type:"address"},{internalType:"string",name:"_contactPerson",type:"string"},{internalType:"uint256",name:"_contactNo",type:"uint256"},{internalType:"string",name:"_agencyAddress",type:"string"},{internalType:"uint256",name:"_pincode",type:"uint256"}],name:"addAgency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodGroup",type:"uint256"},{internalType:"bytes32",name:"_Quality",type:"bytes32"},{internalType:"bytes32",name:"_Remarks",type:"bytes32"},{internalType:"bytes32",name:"_DonerName",type:"bytes32"},{internalType:"uint256",name:"_DonerAge",type:"uint256"},{internalType:"bytes32",name:"_DonerMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"_DonerContactNo",type:"uint256"},{internalType:"uint256",name:"_BloodBottleId",type:"uint256"},{internalType:"bytes32",name:"_DateCreated",type:"bytes32"},{internalType:"bytes32",name:"_DateUpdated",type:"bytes32"}],name:"AddBloodDetails",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodBottleId",type:"uint256"}],name:"DeliverBloodBottle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodBottleId",type:"uint256"}],name:"verifyBloodBottle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"agencyCollection",outputs:[{internalType:"string",name:"agencyType",type:"string"},{internalType:"string",name:"agencyName",type:"string"},{internalType:"address",name:"addressID",type:"address"},{internalType:"string",name:"contactPerson",type:"string"},{internalType:"uint256",name:"contactNo",type:"uint256"},{internalType:"string",name:"agencyAddress",type:"string"},{internalType:"uint256",name:"pincode",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum BloodBank.BloodGroup",name:"",type:"uint8"}],name:"bloodGroup",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"bloodsCollection",outputs:[{internalType:"uint256",name:"BloodGroup",type:"uint256"},{internalType:"bytes32",name:"Quality",type:"bytes32"},{internalType:"bytes32",name:"Remarks",type:"bytes32"},{internalType:"bytes32",name:"DonerName",type:"bytes32"},{internalType:"uint256",name:"DonerAge",type:"uint256"},{internalType:"bytes32",name:"DonerMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"DonerContactNo",type:"uint256"},{internalType:"uint256",name:"BloodBottleId",type:"uint256"},{internalType:"enum BloodBank.BloodBottleStatus",name:"Status",type:"uint8"},{internalType:"bytes32",name:"DateCreated",type:"bytes32"},{internalType:"bytes32",name:"DateUpdated",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addressID",type:"address"}],name:"getAgencyData",outputs:[{components:[{internalType:"string",name:"agencyType",type:"string"},{internalType:"string",name:"agencyName",type:"string"},{internalType:"address",name:"addressID",type:"address"},{internalType:"string",name:"contactPerson",type:"string"},{internalType:"uint256",name:"contactNo",type:"uint256"},{internalType:"string",name:"agencyAddress",type:"string"},{internalType:"uint256",name:"pincode",type:"uint256"}],internalType:"struct BloodBank.Agency",name:"agency",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodBottleId",type:"uint256"}],name:"getbloodBottleData",outputs:[{components:[{internalType:"uint256",name:"BloodGroup",type:"uint256"},{internalType:"bytes32",name:"Quality",type:"bytes32"},{internalType:"bytes32",name:"Remarks",type:"bytes32"},{internalType:"bytes32",name:"DonerName",type:"bytes32"},{internalType:"uint256",name:"DonerAge",type:"uint256"},{internalType:"bytes32",name:"DonerMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"DonerContactNo",type:"uint256"},{internalType:"uint256",name:"BloodBottleId",type:"uint256"},{internalType:"enum BloodBank.BloodBottleStatus",name:"Status",type:"uint8"},{internalType:"bytes32",name:"DateCreated",type:"bytes32"},{internalType:"bytes32",name:"DateUpdated",type:"bytes32"}],internalType:"struct BloodBank.BloodBottle",name:"_bloodBottle",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodGroup",type:"uint256"}],name:"GetBloodBottleGroupTotal",outputs:[{internalType:"uint256",name:"a",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TotalNoOfAgencies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],C="0x1142F4720cE7CCDA94E3aa2FD563Af2A371110Cd",k=["OPositive","ONegative","APositive","ANegative","BPositive","BNegative","ABPositive","ABNegative"],S=function(e){return k[e%=8]},I=n(2),_=Object(m.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,marginTop:50},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},container:{display:"flex",flexDirection:"row",margin:20,padding:20,width:"100%"},leftDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"40%"},rightDiv:{width:"60%",height:"100%"},heading:{margin:2,color:"white"},details:{color:"white"},card:{minWidth:500,marginTop:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),M=function(e){var t=e.account,n=_(),a=i.a.useState(null),o=Object(u.a)(a,2),r=o[0],c=o[1],s=i.a.useState(null),l=Object(u.a)(s,2),d=l[0],b=l[1],m=i.a.useState(),f=Object(u.a)(m,2),C=f[0],k=f[1],M=i.a.useState(""),P=Object(u.a)(M,2),q=P[0],G=P[1];console.log("Account Home : ",t);return Object(I.jsxs)("div",{className:n.container,children:[Object(I.jsxs)("div",{className:n.leftDiv,children:[Object(I.jsx)("h2",{className:n.heading,children:"Blood Bank"}),Object(I.jsx)("p",{className:n.details,children:"New Generations Blood Bank powered by decentralize blockchain solution. Build in Ethereum Network. Blood Collect to Blood Verification, Distribution all done with fully decentralized system. "}),Object(I.jsxs)(j.a,{className:n.root,children:[Object(I.jsx)(h.a,{className:n.input,placeholder:"Search Blood Details With Blood Id",inputProps:{"aria-label":"Search Blood Details With Blood Id"},onChange:function(e){return c(e.currentTarget.value)}}),Object(I.jsx)(g.a,{type:"submit",className:n.iconButton,"aria-label":"search",onClick:function(){return function(e){if(console.log("Getting blood details",e),null!=e&&!isNaN(e)){k(null),b(null),G("");var n=new window.web3.eth.Contract(N,D);n.defaultAccount=t,n.methods.getbloodBottleData(e).call().then((function(e){console.log(e),k(e)})).catch((function(e){console.log(e),b(e.message)}))}}(r)},children:Object(I.jsx)(O.a,{})})]}),d&&Object(I.jsx)("p",{children:d}),q&&Object(I.jsx)(A.a,{style:{margin:10},severity:"success",children:q}),C&&Object(I.jsxs)(v.a,{className:n.card,children:[Object(I.jsxs)(w.a,{children:[Object(I.jsxs)(T.a,{variant:"h5",component:"h2",children:["Blood Id : ",C.BloodBottleId]}),Object(I.jsxs)(T.a,{variant:"body2",component:"p",children:["Doner Name : ",window.web3.utils.toAscii(C.DonerName),Object(I.jsx)("br",{}),"Age : ",C.DonerAge,Object(I.jsx)("br",{}),"Medical Details : ",window.web3.utils.toAscii(C.DonerMedicalDetails),Object(I.jsx)("br",{}),"Phone Number : ",C.DonerContactNo,Object(I.jsx)("br",{}),"Blood Group : ",S(C.BloodGroup),Object(I.jsx)("br",{}),"Blood Quality : ",window.web3.utils.toAscii(C.Quality),Object(I.jsx)("br",{}),"Remarks : ",window.web3.utils.toAscii(C.Remarks),Object(I.jsx)("br",{}),"Status : ","1"===C.Status?"Verified":"2"===C.Status?"Delivered":"New"]})]}),Object(I.jsx)(x.a,{children:"0"===C.Status?Object(I.jsx)(B.a,{onClick:function(){return function(e){if(console.log("Verifying blood details",e),null!=e){var n=new window.web3.eth.Contract(N,D);n.defaultAccount=t,n.methods.verifyBloodBottle(e).send({from:t}).then((function(e){console.log(e),k(Object(p.a)(Object(p.a)({},C),{},{Status:"1"})),G("Blood Bottle Verified!")})).catch((function(e){console.log(e),b(e.message)}))}}(r)},children:"Verify"}):"1"===C.Status?Object(I.jsx)(B.a,{onClick:function(){return function(e){if(console.log("Delivering blood details",e),null!=e){var n=new window.web3.eth.Contract(N,D);n.defaultAccount=t,n.methods.DeliverBloodBottle(e).send({from:t}).then((function(e){console.log(e),k(Object(p.a)(Object(p.a)({},C),{},{Status:"2"})),G("Blood Bottle Marked Delivered!")})).catch((function(e){console.log(e),b(e.message)}))}}(r)},children:"Mark Delivered"}):null})]})]}),Object(I.jsx)("div",{className:n.rightDiv,children:Object(I.jsx)("img",{src:y,width:"100%",height:"100%"})})]})},P=Object(m.a)((function(e){return{root:{display:"flex",margin:"auto",padding:20},txt:{color:"white",fontSize:"1.2rem",fontWeight:400,textAlign:"left"}}})),q=function(){var e=P();return Object(I.jsx)("div",{className:e.root,children:Object(I.jsxs)("p",{className:e.txt,children:["There are many factors that lead to blood scarcity due to the gap between demand and supply. There are many issues such as reluctances to donate blood, lack of awareness of people, paid donation is banned etc. According to the articke published by Lancet Journal their data  suggest\u2019s  that the gap between need and supply is large in many low-income and middle-income countries, also the  WHO target of 10\u201320 donations per 1000 population for many countries is an underestimate. In order to make blood available there is a needed of more infrastructural  support, in terms of financially, to ensure supply, quality, and safety in low-income and middle-income countries. Also due to mishandling donated  blood is wasted due to reactivity for infections, expiry, bacterial contamination, not meeting quality standards etc. According to a report (any reference- no reference as of now) more than 1 million units of collected blood has been discarded in each of the years 2014-15, 2015-16 and 2016-17 due to wastage and improper handling. ",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"In this model we propose a novel way of recording the information related to the donated blood to a central database repository using the concept of Blockchain .The method proposed records the agencies details who are organizing Blood Donation camps and at the same time also gives authority information about total blood bottles available.Demand and supply gap can be mitigated. As the data recorded in Blockchain is immutable this will not only help to have the consistent information but can also prevent black marketing of donated blood. Also it removes third party monitoring as the system itself will take care of maintaining the consistency of the information stored from the origin. ",Object(I.jsx)("br",{})," ",Object(I.jsx)("br",{}),"A Blockchain platform-on Ethereum using Smart Contract is proposed here which is an open source platform. It uses smart contracts written in Solidity. ",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"A digital account will be created for each interactor /agency/hospital./medical care centre  .At present ant health care system requiring the Blood Bottles need to contact the agencies organizing the Blood donation camps or can approach directly the blood Bank to deliver bottles."]})})},G=Object(m.a)((function(e){return{menusItem:{cursor:"pointer",color:"white",fontWeight:"bolder"}}})),E=function(e){var t=e.name,n=e.path,a=e.onClickMenu,i=G();return Object(I.jsx)("div",{className:i.menusItem,onClick:function(){return a(n)},children:t})},R=Object(m.a)((function(e){return{menus:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:10,width:500,alignItems:"end"}}})),V=function(){var e=R(),t=function(e){window.location="/bloodbank/#"+e};return Object(I.jsxs)("div",{className:e.menus,children:[Object(I.jsx)(E,{name:"Home",onClickMenu:t,path:"/"}),Object(I.jsx)(E,{name:"Blood Registration",onClickMenu:t,path:"/registration"}),Object(I.jsx)(E,{name:"Agency",onClickMenu:t,path:"/addagency"}),Object(I.jsx)(E,{name:"Statistics",onClickMenu:t,path:"/stats"}),Object(I.jsx)(E,{name:"About Us",onClickMenu:t,path:"/about"})]})},W=n(609),z=n.p+"static/media/blood_donation2.841028d5.svg",F=n(607),L=n(611),Q=n(610),H=n(605),U=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",margin:20},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"80vh"}}})),J=function(e){var t=e.account,n=U(),i=Object(a.useState)(""),o=Object(u.a)(i,2),r=o[0],c=o[1],s=Object(a.useState)(""),l=Object(u.a)(s,2),d=l[0],b=l[1],p=Object(a.useState)(0),y=Object(u.a)(p,2),m=y[0],j=y[1],h=Object(a.useState)(""),g=Object(u.a)(h,2),f=g[0],O=g[1],v=Object(a.useState)(""),x=Object(u.a)(v,2),w=x[0],T=x[1],C=Object(a.useState)(""),k=Object(u.a)(C,2),S=k[0],_=k[1],M=Object(a.useState)(""),P=Object(u.a)(M,2),q=P[0],G=P[1],E=Object(a.useState)(""),R=Object(u.a)(E,2),V=R[0],J=R[1],K=Object(a.useState)(""),X=Object(u.a)(K,2),Y=X[0],Z=X[1],$=r&&d&&m>-1&&m<8&&f&&w&&S&&q&&V&&r.length>2&&!isNaN(d)&&10===d.length&&!isNaN(V)&&!isNaN(q);return console.log("Blood Bottle Group : "+m),Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsx)("div",{className:n.leftDiv,children:Object(I.jsx)("img",{src:z,width:"100%",height:"100%",alt:"Blood Donation Pic"})}),Object(I.jsxs)("div",{className:n.rightDiv,children:[Y&&Object(I.jsx)(A.a,{style:{margin:10},severity:"success",children:Y}),Object(I.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(I.jsx)(W.a,{required:!0,id:"name",label:"Donar Name",variant:"outlined",value:r,onChange:function(e){return c(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"phone",label:"Phone Number",variant:"outlined",value:d,onChange:function(e){return b(e.currentTarget.value)}}),Object(I.jsxs)(H.a,{variant:"outlined",className:n.formControl,children:[Object(I.jsx)(Q.a,{id:"demo-simple-select-outlined-label",children:"Blood Group"}),Object(I.jsxs)(F.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:m,onChange:function(e){console.log(e),j(e.target.value)},label:"Blood Group",children:[Object(I.jsx)(L.a,{value:0,children:"OPositive"}),Object(I.jsx)(L.a,{value:1,children:"ONegative"}),Object(I.jsx)(L.a,{value:2,children:"APositive"}),Object(I.jsx)(L.a,{value:3,children:"ANegative"}),Object(I.jsx)(L.a,{value:4,children:"BPositive"}),Object(I.jsx)(L.a,{value:5,children:"BNegative"}),Object(I.jsx)(L.a,{value:6,children:"ABPositive"}),Object(I.jsx)(L.a,{value:7,children:"ABNegative"})]})]}),Object(I.jsx)(W.a,{required:!0,id:"quality",label:"Blood Quality",variant:"outlined",value:f,onChange:function(e){return O(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"medical",label:"Medical Details",variant:"outlined",value:S,onChange:function(e){return _(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"age",label:"Age",variant:"outlined",value:q,onChange:function(e){return G(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"bottleId",label:"Bottle Id",variant:"outlined",value:V,onChange:function(e){return J(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"remarks",label:"Remarks",variant:"outlined",value:w,onChange:function(e){return T(e.currentTarget.value)}}),Object(I.jsx)(B.a,{variant:"contained",color:"primary",disabled:!$,onClick:function(){return function(){if($){var e=(new Date).toLocaleDateString();e=window.web3.utils.fromAscii(e);var n=window.web3.utils.fromAscii(f),a=window.web3.utils.fromAscii(w),i=window.web3.utils.fromAscii(r),o=window.web3.utils.fromAscii(S);console.log("Adding Blood");var c=new window.web3.eth.Contract(N,D);c.defaultAccount=t;try{c.methods.AddBloodDetails(m,n,a,i,q,o,d,V,e,e).send({from:t}),Z("Blood Registered Successfully!\nView it on Etherscan!"),setTimeout((function(){window.location="/bloodbank/#/"}),2e3)}catch(s){console.log(s)}}}()},children:"Register Blood"})]})]})]})},K=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:10,width:500,alignItems:"end"}}})),X=function(){var e=K();return Object(I.jsx)("div",{className:e.root,children:"Developer"})},Y=n.p+"static/media/agency_doctor.4097dc4b.svg",Z=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",margin:20},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"80vh"},card:{minWidth:500,marginTop:30,minHeight:250},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),$=function(e){var t=e.account,n=Z(),o=Object(a.useState)(""),r=Object(u.a)(o,2),c=r[0],d=r[1],b=Object(a.useState)(""),p=Object(u.a)(b,2),y=p[0],m=p[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),g=h[0],f=h[1],O=Object(a.useState)(""),k=Object(u.a)(O,2),S=k[0],_=k[1],M=Object(a.useState)(""),P=Object(u.a)(M,2),q=P[0],G=P[1],E=Object(a.useState)(""),R=Object(u.a)(E,2),V=R[0],z=R[1],F=Object(a.useState)(""),L=Object(u.a)(F,2),Q=L[0],H=L[1],U=Object(a.useState)(""),J=Object(u.a)(U,2),K=J[0],X=J[1],$=Object(a.useState)(""),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),ie=Object(u.a)(ae,2),oe=ie[0],re=ie[1],ce=c&&y&&g&&S&&q&&V&&Q&&c.length>2&&y.length>2&&g.length>5&&S.length>2&&!isNaN(q)&&10===q.length&&V.length>2&&!isNaN(Q)&&6===Q.length&&window.web3&&window.web3.utils.isAddress(g);i.a.useEffect((function(){se(t)}),[t]);var se=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Acc : "+t),t)try{(n=new window.web3.eth.Contract(N,D)).defaultAccount=t,n.methods.getAgencyData(t).call().then((function(e){console.log(e),ne(e)}))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsx)("div",{className:n.leftDiv,children:Object(I.jsx)("img",{src:Y,width:"60%",height:"60%",alt:"Blood Donation Pic",style:{marginTop:30}})}),Object(I.jsxs)("div",{className:n.rightDiv,children:[K&&Object(I.jsx)(A.a,{style:{margin:10},severity:"success",children:K}),t===C&&oe?Object(I.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(I.jsx)(W.a,{required:!0,id:"name",label:"Agency Name",variant:"outlined",value:y,onChange:function(e){return m(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"agencytype",label:"Agency Type",variant:"outlined",value:c,onChange:function(e){return d(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"agency_address",label:"Agency Address",variant:"outlined",value:g,onChange:function(e){return f(e.currentTarget.value)}}),g&&window.web3&&!window.web3.utils.isAddress(g)&&Object(I.jsx)("p",{children:"Not a valid address!"}),Object(I.jsx)(W.a,{required:!0,id:"contact_person",label:"Contact Person",variant:"outlined",value:S,onChange:function(e){return _(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"contact_number",label:"Contact Number",variant:"outlined",value:q,onChange:function(e){return G(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"agency_address",label:"Address",variant:"outlined",value:V,onChange:function(e){return z(e.currentTarget.value)}}),Object(I.jsx)(W.a,{required:!0,id:"agency_pincode",label:"Pincode",variant:"outlined",value:Q,onChange:function(e){return H(e.currentTarget.value)}}),Object(I.jsx)(B.a,{variant:"contained",color:"primary",disabled:!ce,onClick:function(){return function(){if(ce){console.log("Adding Agecy");var e=new window.web3.eth.Contract(N,D);e.defaultAccount=t;try{e.methods.addAgency(c,y,g,S,q,V,Q).send({from:t}),X("Added Agency Details Successfully!\nView it on Etherscan!"),setTimeout((function(){window.location="/bloodbank/#/"}),2e3)}catch(n){console.log(n)}}}()},children:"Add Agency"})]}):Object(I.jsxs)(v.a,{className:n.card,children:[Object(I.jsxs)(w.a,{children:[Object(I.jsxs)(T.a,{variant:"h5",component:"h2",children:["Agency Name : ",te.agencyName]}),Object(I.jsxs)(T.a,{variant:"body2",component:"p",children:["Agency Type : ",te.agencyType,Object(I.jsx)("br",{}),"Address  : ",te.addressID,Object(I.jsx)("br",{}),"Contact Person : ",te.contactPerson,Object(I.jsx)("br",{}),"Contact Number : ",te.contactNo,Object(I.jsx)("br",{}),"Agency Address : ",te.agencyAddress,Object(I.jsx)("br",{}),"Pincode : ",te.pincode]})]}),Object(I.jsx)(x.a,{children:t===C&&Object(I.jsx)(B.a,{onClick:function(){return re(!0)},children:"Add Agency"})})]})]})]})},ee=n.p+"static/media/dashboard.a8691c56.svg",te=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:0,padding:30,alignItems:"end",flex:2},left:{flex:1,padding:50},right:{flex:1},imgSVG:{width:600,height:600},card:{minWidth:500,marginTop:30}}})),ne=function(e){var t=e.account,n=te(),a=i.a.useState({}),o=Object(u.a)(a,2),r=o[0],c=o[1];i.a.useEffect((function(){d(t)}),[t]);var d=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,i,o,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Acc : "+t),!t){e.next=27;break}e.prev=2,(n=new window.web3.eth.Contract(N,D)).defaultAccount=t,a=[],i=0;case 7:if(!(i<8)){e.next=15;break}return e.next=10,n.methods.bloodGroup(i).call();case 10:o=e.sent,a.push(o);case 12:i++,e.next=7;break;case 15:return e.next=17,n.methods.totalSupply().call();case 17:return r=e.sent,e.next=20,n.methods.TotalNoOfAgencies().call();case 20:l=e.sent,c({bloods:a,totalSupply:r,totalAgency:l}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsxs)("div",{className:n.left,children:[Object(I.jsx)(v.a,{className:n.card,children:Object(I.jsxs)(w.a,{children:[Object(I.jsx)(T.a,{variant:"h5",component:"h2",children:"Total Agency Registered"}),Object(I.jsx)(T.a,{variant:"h3",component:"h2",children:r.totalAgency})]})}),Object(I.jsx)(v.a,{className:n.card,children:Object(I.jsxs)(w.a,{children:[Object(I.jsx)(T.a,{variant:"h5",component:"h2",children:"Total Blood Supply"}),Object(I.jsx)(T.a,{variant:"h3",component:"h2",children:r.totalSupply})]})}),r.bloods&&Object(I.jsx)(v.a,{className:n.card,children:Object(I.jsxs)(w.a,{children:[Object(I.jsx)(T.a,{variant:"h5",component:"h2",children:"Verified Bloods"}),Object(I.jsx)(T.a,{variant:"h7",component:"h5",children:r.bloods.map((function(e,t){return S(t)+" : "+e+" "}))})]})})]}),Object(I.jsx)("div",{className:n.right,children:Object(I.jsx)("img",{src:ee,className:n.imgSVG})})]})},ae=n(257),ie=n.n(ae);var oe=function(){var e=i.a.useState(""),t=Object(u.a)(e,2),n=t[0],a=t[1],o=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=16;break}return e.prev=1,e.next=4,window.ethereum.send("eth_requestAccounts");case 4:return window.web3=new ie.a(window.ethereum),e.next=7,window.web3.eth.getAccounts();case 7:return t=e.sent,a(t[0]),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(1),console.log("Error : ",e.t0),e.abrupt("return",!1);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return i.a.useEffect((function(){o()||alert("Please Install A Ethereum Wallet!")}),[]),console.log("Account : ",n),Object(I.jsxs)("div",{className:"App",style:{background:"red",width:"100vw",height:"100vh",overflow:"hidden"},children:[Object(I.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",marginRight:100},children:Object(I.jsx)(V,{})}),Object(I.jsx)(b.a,{children:Object(I.jsxs)(d.c,{children:[Object(I.jsx)(d.a,{path:"/about",children:Object(I.jsx)(q,{})}),Object(I.jsx)(d.a,{path:"/registration",children:Object(I.jsx)(J,{account:n})}),Object(I.jsx)(d.a,{path:"/developer",children:Object(I.jsx)(X,{})}),Object(I.jsx)(d.a,{path:"/about",children:Object(I.jsx)(q,{})}),Object(I.jsx)(d.a,{path:"/addagency",children:Object(I.jsx)($,{account:n})}),Object(I.jsx)(d.a,{path:"/stats",children:Object(I.jsx)(ne,{account:n})}),Object(I.jsx)(d.a,{path:"/",children:Object(I.jsx)(M,{account:n})})]})})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,613)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))};r.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(oe,{})}),document.getElementById("root")),re()}},[[561,1,2]]]);
//# sourceMappingURL=main.bc1e246e.chunk.js.map