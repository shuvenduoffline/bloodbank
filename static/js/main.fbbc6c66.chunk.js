(this.webpackJsonpbloodbank=this.webpackJsonpbloodbank||[]).push([[0],{293:function(e,t,n){},295:function(e,t,n){},314:function(e,t){},323:function(e,t){},341:function(e,t){},343:function(e,t){},360:function(e,t){},361:function(e,t){},425:function(e,t){},427:function(e,t){},436:function(e,t){},438:function(e,t){},463:function(e,t){},465:function(e,t){},466:function(e,t){},471:function(e,t){},473:function(e,t){},486:function(e,t){},498:function(e,t){},501:function(e,t){},506:function(e,t){},517:function(e,t){},520:function(e,t){},572:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(22),o=n.n(c),r=(n(293),n(31)),l=n.n(r),s=n(76),d=n(7),u=(n(295),n(25)),b=n(108),j=(n(111),n.p+"static/media/blood_donation1.3b79b00a.svg"),p=n(603),h=n(574),y=n(274),m=n(607),g=n(267),f=n.n(g),O=n(608),v=n(609),x=n(610),w=n(624),T="0x7d5DB1dF22DfffB608BE5625982eAb4D3Ba591CC",D=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"BloodBottleID",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"BloodBottleStatusEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"BloodBottleVerifiedEvent",type:"event"},{inputs:[{internalType:"uint256",name:"_NoOfBottles",type:"uint256"},{internalType:"uint256",name:"_BloodGroup",type:"uint256"},{internalType:"bytes32",name:"_Remarks",type:"bytes32"},{internalType:"bytes32",name:"_PatientName",type:"bytes32"},{internalType:"uint256",name:"_PatientAge",type:"uint256"},{internalType:"bytes32",name:"_PatientMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"_PatientContactNo",type:"uint256"},{internalType:"string",name:"_doctorDetails",type:"string"},{internalType:"bytes32",name:"_DateDemanded",type:"bytes32"},{internalType:"bytes32",name:"_DateProvided",type:"bytes32"},{internalType:"uint256",name:"_healthCareAgencyindex",type:"uint256"}],name:"BulkDeliveryBloodBottle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodBottleId",type:"uint256"},{internalType:"bytes32",name:"_Remarks",type:"bytes32"},{internalType:"bytes32",name:"_PatientName",type:"bytes32"},{internalType:"uint256",name:"_PatientAge",type:"uint256"},{internalType:"bytes32",name:"_PatientMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"_PatientContactNo",type:"uint256"},{internalType:"string",name:"_doctorDetails",type:"string"},{internalType:"bytes32",name:"_DateDemanded",type:"bytes32"},{internalType:"bytes32",name:"_DateProvided",type:"bytes32"},{internalType:"uint256",name:"_healthCareAgencyindex",type:"uint256"}],name:"DeliverBloodBottle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_agencyType",type:"string"},{internalType:"string",name:"_agencyName",type:"string"},{internalType:"address",name:"_addressID",type:"address"},{internalType:"string",name:"_contactPerson",type:"string"},{internalType:"uint256",name:"_contactNo",type:"uint256"},{internalType:"string",name:"_agencyAddress",type:"string"},{internalType:"uint256",name:"_pincode",type:"uint256"}],name:"addAgency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodGroup",type:"uint256"},{internalType:"bytes32",name:"_Quality",type:"bytes32"},{internalType:"bytes32",name:"_Remarks",type:"bytes32"},{internalType:"bytes32",name:"_DonerName",type:"bytes32"},{internalType:"uint256",name:"_DonerAge",type:"uint256"},{internalType:"bytes32",name:"_DonerMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"_DonerContactNo",type:"uint256"},{internalType:"bytes32",name:"_DateCreated",type:"bytes32"},{internalType:"bytes32",name:"_DateUpdated",type:"bytes32"}],name:"addBloodDetails",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_agencyType",type:"string"},{internalType:"string",name:"_agencyName",type:"string"},{internalType:"string",name:"_contactPerson",type:"string"},{internalType:"uint256",name:"_contactNo",type:"uint256"},{internalType:"string",name:"_agencyAddress",type:"string"},{internalType:"uint256",name:"_pincode",type:"uint256"}],name:"addHealthCareAgency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addressID",type:"address"}],name:"getAgencyData",outputs:[{components:[{internalType:"string",name:"agencyType",type:"string"},{internalType:"string",name:"agencyName",type:"string"},{internalType:"address",name:"addressID",type:"address"},{internalType:"string",name:"contactPerson",type:"string"},{internalType:"uint256",name:"contactNo",type:"uint256"},{internalType:"string",name:"agencyAddress",type:"string"},{internalType:"uint256",name:"pincode",type:"uint256"}],internalType:"struct BloodBank2.Agency",name:"agency",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodGroup",type:"uint256"}],name:"getBloodBottleGroupTotal",outputs:[{internalType:"uint256",name:"a",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"start",type:"uint256"}],name:"getBloodBottleList",outputs:[{components:[{internalType:"uint256",name:"BloodGroup",type:"uint256"},{internalType:"bytes32",name:"Quality",type:"bytes32"},{internalType:"bytes32",name:"Remarks",type:"bytes32"},{internalType:"bytes32",name:"DonerName",type:"bytes32"},{internalType:"uint256",name:"DonerAge",type:"uint256"},{internalType:"bytes32",name:"DonerMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"DonerContactNo",type:"uint256"},{internalType:"uint256",name:"BloodBottleId",type:"uint256"},{internalType:"enum BloodBank2.BloodBottleStatus",name:"Status",type:"uint8"},{internalType:"bytes32",name:"DateCreated",type:"bytes32"},{internalType:"bytes32",name:"DateUpdated",type:"bytes32"},{internalType:"address",name:"agency",type:"address"}],internalType:"struct BloodBank2.BloodBottle[10]",name:"temp",type:"tuple[10]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"start",type:"uint256"}],name:"getHealthCareAgencyList",outputs:[{components:[{internalType:"string",name:"agencyType",type:"string"},{internalType:"string",name:"agencyName",type:"string"},{internalType:"string",name:"contactPerson",type:"string"},{internalType:"uint256",name:"contactNo",type:"uint256"},{internalType:"string",name:"agencyAddress",type:"string"},{internalType:"uint256",name:"pincode",type:"uint256"},{internalType:"uint256",name:"NoBottlesDemanded",type:"uint256"}],internalType:"struct BloodBank2.HealthCareAgency[30]",name:"temp",type:"tuple[30]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodBottleId",type:"uint256"}],name:"getbloodBottleData",outputs:[{components:[{internalType:"uint256",name:"BloodGroup",type:"uint256"},{internalType:"bytes32",name:"Quality",type:"bytes32"},{internalType:"bytes32",name:"Remarks",type:"bytes32"},{internalType:"bytes32",name:"DonerName",type:"bytes32"},{internalType:"uint256",name:"DonerAge",type:"uint256"},{internalType:"bytes32",name:"DonerMedicalDetails",type:"bytes32"},{internalType:"uint256",name:"DonerContactNo",type:"uint256"},{internalType:"uint256",name:"BloodBottleId",type:"uint256"},{internalType:"enum BloodBank2.BloodBottleStatus",name:"Status",type:"uint8"},{internalType:"bytes32",name:"DateCreated",type:"bytes32"},{internalType:"bytes32",name:"DateUpdated",type:"bytes32"},{internalType:"address",name:"agency",type:"address"}],internalType:"struct BloodBank2.BloodBottle",name:"_bloodBottle",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAgency",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_BloodBottleId",type:"uint256"}],name:"verifyBloodBottle",outputs:[],stateMutability:"nonpayable",type:"function"}],N="0x3CD5ce84cE3497F85B1b569a698cA6a682c28194",C=["OPositive","ONegative","APositive","ANegative","BPositive","BNegative","ABPositive","ABNegative"],B=["Collected","Verified","Delivered"],A=function(e){return C[e%=8]},k=n(1),S=Object(p.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,marginTop:50},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},container:{display:"flex",flexDirection:"row",margin:20,padding:20,width:"100%"},leftDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"40%"},rightDiv:{width:"60%",height:"100%"},heading:{margin:2,color:"white"},details:{color:"white"},card:{minWidth:500,marginTop:30},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),_=function(e){var t=e.account,n=S(),a=i.a.useState(null),c=Object(d.a)(a,2),o=c[0],r=c[1],l=i.a.useState(null),s=Object(d.a)(l,2),u=s[0],b=s[1],p=i.a.useState(),g=Object(d.a)(p,2),N=g[0],C=g[1],B=i.a.useState(""),_=Object(d.a)(B,2),I=_[0],P=_[1];console.log("Account Home : ",t);return Object(k.jsxs)("div",{className:n.container,children:[Object(k.jsxs)("div",{className:n.leftDiv,children:[Object(k.jsx)("h2",{className:n.heading,children:"Blood Bank"}),Object(k.jsx)("p",{className:n.details,children:"New Generations Blood Bank powered by decentralize blockchain solution. Build on Ethereum Network. Blood Collection to Blood Verification, Distribution all done with fully decentralized system. "}),Object(k.jsxs)(h.a,{className:n.root,children:[Object(k.jsx)(y.a,{className:n.input,placeholder:"Search Blood Details With Blood Id",inputProps:{"aria-label":"Search Blood Details With Blood Id"},onChange:function(e){return r(e.currentTarget.value)}}),Object(k.jsx)(m.a,{type:"submit",className:n.iconButton,"aria-label":"search",onClick:function(){return function(e){if(console.log("Getting blood details",e),null!=e&&!isNaN(e)){C(null),b(null),P("");var n=new window.web3.eth.Contract(D,T);n.defaultAccount=t,n.methods.getbloodBottleData(e).call().then((function(e){console.log(e),C(e)})).catch((function(e){console.log(e),b(e.message)}))}}(o)},children:Object(k.jsx)(f.a,{})})]}),u&&Object(k.jsx)("p",{children:u}),I&&Object(k.jsx)(w.a,{style:{margin:10},severity:"success",children:I}),N&&Object(k.jsx)(O.a,{className:n.card,children:Object(k.jsxs)(v.a,{children:[Object(k.jsxs)(x.a,{variant:"h5",component:"h2",children:["Blood Id : ",N.BloodBottleId]}),Object(k.jsxs)(x.a,{variant:"body2",component:"p",children:["Doner Name : ",window.web3.utils.toAscii(N.DonerName),Object(k.jsx)("br",{}),"Age : ",N.DonerAge,Object(k.jsx)("br",{}),"Medical Details : ",window.web3.utils.toAscii(N.DonerMedicalDetails),Object(k.jsx)("br",{}),"Phone Number : ",N.DonerContactNo,Object(k.jsx)("br",{}),"Blood Group : ",A(N.BloodGroup),Object(k.jsx)("br",{}),"Blood Quality : ",window.web3.utils.toAscii(N.Quality),Object(k.jsx)("br",{}),"Remarks : ",window.web3.utils.toAscii(N.Remarks),Object(k.jsx)("br",{}),"Status : ","1"===N.Status?"Verified":"2"===N.Status?"Delivered":"New"]})]})})]}),Object(k.jsx)("div",{className:n.rightDiv,children:Object(k.jsx)("img",{src:j,width:"100%",height:"100%"})})]})},I=Object(p.a)((function(e){return{root:{display:"flex",margin:"auto",padding:20},txt:{color:"white",fontSize:"1.2rem",fontWeight:400,textAlign:"left"}}})),P=function(){var e=I();return Object(k.jsx)("div",{className:e.root,children:Object(k.jsxs)("p",{className:e.txt,children:["There are many factors that lead to blood scarcity due to the gap between demand and supply. There are many issues such as reluctances to donate blood, lack of awareness of people, paid donation is banned etc. According to the article published by Lancet Journal their data suggests that the gap between need and supply is large in many low-income and middle-income countries, also the WHO target of 10\u201320 donations per 1000 population for many countries is an underestimate. In order to make blood available there is a need for more infrastructural support, in terms of financially, to ensure supply, quality, and safety in low-income and middle-income countries. Also due to mishandling donated blood is wasted \u2013like reactivity for infections, expiry, bacterial contamination, not meeting quality standards etc. According to a report more than 1 million units of collected blood has been discarded in each of the years 2014-15, 2015-16 and 2016-17 due to wastage and improper handling. ",Object(k.jsx)("br",{})," ",Object(k.jsx)("br",{}),"In this model we propose a novel way of recording the information related to the donated blood to a central database repository using the concept of Blockchain .The method proposed records the agencies details who are organizing Blood Donation camps and at the same time also gives authority the information about total blood bottles available. Demand and supply gap can be mitigated. As the data recorded in Blockchain is immutable this will not only help to have the consistent information but can also prevent black marketing of donated blood. Also it removes third party monitoring as the system itself will take care of maintaining the consistency of the information stored from the origin. ",Object(k.jsx)("br",{})," ",Object(k.jsx)("br",{}),"A Blockchain platform-on Ethereum using Smart Contract is proposed here which is an open source platform. It uses smart contracts written in Solidity.",Object(k.jsx)("br",{})," ",Object(k.jsx)("br",{}),"A digital account will be created for each interactor /agency/hospital./medical care centre .At present any health care system requiring the Blood Bottles need to contact the agencies organizing the Blood donation camps or can approach directly to the blood Bank to deliver bottles."]})})},M=Object(p.a)((function(e){return{menusItem:{cursor:"pointer",color:"white",fontWeight:"bolder","&:hover":{color:"#f5f5f5",scale:1.02},marginLeft:10}}})),q=function(e){var t=e.name,n=e.path,a=e.onClickMenu,i=M();return Object(k.jsx)("div",{className:i.menusItem,onClick:function(){return a(n)},children:t})},G=Object(p.a)((function(e){return{menusItem:{cursor:"pointer",color:"white",fontWeight:"bolder","&:hover":{color:"#f5f5f5",scale:1.02},borderRadius:10,border:"1px solid white",padding:5,marginLeft:10}}})),R=function(e){var t=e.name,n=e.checkAndConnectToWallet,a=G();return console.log(n),Object(k.jsx)("div",{className:a.menusItem,onClick:function(){return n()},children:t})},H=Object(p.a)((function(e){return{menus:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:10,alignItems:"end"}}})),L=function(e){var t=e.isOwner,n=void 0!==t&&t,a=e.checkAndConnectToWallet,i=e.account,c=H(),o=function(e){window.location="/bloodbank/#"+e};return Object(k.jsxs)("div",{className:c.menus,children:[Object(k.jsx)(q,{name:"Home",onClickMenu:o,path:"/"}),Object(k.jsx)(q,{name:"Blood Registration",onClickMenu:o,path:"/registration"}),n&&Object(k.jsx)(q,{name:"Collection",onClickMenu:o,path:"/collection"}),Object(k.jsx)(q,{name:"Agency",onClickMenu:o,path:"/addagency"}),n&&Object(k.jsx)(q,{name:"Distribution",onClickMenu:o,path:"/distribution"}),Object(k.jsx)(q,{name:"Statistics",onClickMenu:o,path:"/stats"}),Object(k.jsx)(q,{name:"About Us",onClickMenu:o,path:"/about"}),Object(k.jsx)(R,{name:""===i?"Connect Wallet":i,checkAndConnectToWallet:""===i?a:function(){}})]})},E=n(625),W=n.p+"static/media/blood_donation2.841028d5.svg",V=n(614),Q=n(623),z=n(627),F=n(626),U=n(613),J=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",margin:20},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"80vh"}}})),K=function(e){var t=e.account,n=J(),i=Object(a.useState)(""),c=Object(d.a)(i,2),o=c[0],r=c[1],l=Object(a.useState)(""),s=Object(d.a)(l,2),u=s[0],b=s[1],j=Object(a.useState)(0),p=Object(d.a)(j,2),h=p[0],y=p[1],m=Object(a.useState)(""),g=Object(d.a)(m,2),f=g[0],O=g[1],v=Object(a.useState)(""),x=Object(d.a)(v,2),N=x[0],C=x[1],B=Object(a.useState)(""),A=Object(d.a)(B,2),S=A[0],_=A[1],I=Object(a.useState)(""),P=Object(d.a)(I,2),M=P[0],q=P[1],G=Object(a.useState)(""),R=Object(d.a)(G,2),H=R[0],L=R[1],K=o&&u&&h>-1&&h<8&&f&&N&&S&&M&&o.length>2&&!isNaN(u)&&10===u.length&&!isNaN(M);return console.log("Blood Bottle Group : "+h),Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)("div",{className:n.leftDiv,children:Object(k.jsx)("img",{src:W,width:"100%",height:"100%",alt:"Blood Donation Pic"})}),Object(k.jsxs)("div",{className:n.rightDiv,children:[H&&Object(k.jsx)(w.a,{style:{margin:10},severity:"success",children:H}),Object(k.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(k.jsx)(E.a,{required:!0,id:"name",label:"Donor Name",variant:"outlined",value:o,onChange:function(e){return r(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"phone",label:"Phone Number",variant:"outlined",value:u,onChange:function(e){return b(e.currentTarget.value)}}),Object(k.jsxs)(U.a,{variant:"outlined",className:n.formControl,children:[Object(k.jsx)(F.a,{id:"demo-simple-select-outlined-label",children:"Blood Group"}),Object(k.jsxs)(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h,onChange:function(e){console.log(e),y(e.target.value)},label:"Blood Group",children:[Object(k.jsx)(z.a,{value:0,children:"OPositive"}),Object(k.jsx)(z.a,{value:1,children:"ONegative"}),Object(k.jsx)(z.a,{value:2,children:"APositive"}),Object(k.jsx)(z.a,{value:3,children:"ANegative"}),Object(k.jsx)(z.a,{value:4,children:"BPositive"}),Object(k.jsx)(z.a,{value:5,children:"BNegative"}),Object(k.jsx)(z.a,{value:6,children:"ABPositive"}),Object(k.jsx)(z.a,{value:7,children:"ABNegative"})]})]}),Object(k.jsx)(E.a,{required:!0,id:"quality",label:"Blood Quality",variant:"outlined",value:f,onChange:function(e){return O(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"medical",label:"Medical Details",variant:"outlined",value:S,onChange:function(e){return _(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"age",label:"Age",variant:"outlined",value:M,onChange:function(e){return q(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"remarks",label:"Remarks",variant:"outlined",value:N,onChange:function(e){return C(e.currentTarget.value)}}),Object(k.jsx)(V.a,{variant:"contained",color:"primary",disabled:!K,onClick:function(){return function(){if(K){var e=(new Date).toLocaleDateString();e=window.web3.utils.fromAscii(e);var n=window.web3.utils.fromAscii(f),a=window.web3.utils.fromAscii(N),i=window.web3.utils.fromAscii(o),c=window.web3.utils.fromAscii(S);console.log("Adding Blood");var r=new window.web3.eth.Contract(D,T);r.defaultAccount=t;try{r.methods.addBloodDetails(h,n,a,i,M,c,u,e,e).send({from:t}).then((function(e){var t,n,a;return null===e||void 0===e||null===(t=e.events)||void 0===t||null===(n=t.BloodBottleID)||void 0===n||null===(a=n.raw)||void 0===a?void 0:a.data})).then((function(e){console.log("Id : "+e),L("Blood Registered Successfully!\nBlood ID : "+window.web3.utils.hexToNumberString(e))})),setTimeout((function(){}),2e3)}catch(l){console.log(l)}}}()},children:"Register Blood"})]})]})]})},Y=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:10,width:500,alignItems:"end"}}})),X=function(){var e=Y();return Object(k.jsx)("div",{className:e.root,children:"Developer"})},Z=n.p+"static/media/agency_doctor.4097dc4b.svg",$=n(615),ee=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",margin:20},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"80vh"},card:{minWidth:500,marginTop:30,minHeight:250},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),te=function(e){var t=e.account,n=ee(),c=Object(a.useState)(""),o=Object(d.a)(c,2),r=o[0],u=o[1],b=Object(a.useState)(""),j=Object(d.a)(b,2),p=j[0],h=j[1],y=Object(a.useState)(""),m=Object(d.a)(y,2),g=m[0],f=m[1],C=Object(a.useState)(""),B=Object(d.a)(C,2),A=B[0],S=B[1],_=Object(a.useState)(""),I=Object(d.a)(_,2),P=I[0],M=I[1],q=Object(a.useState)(""),G=Object(d.a)(q,2),R=G[0],H=G[1],L=Object(a.useState)(""),W=Object(d.a)(L,2),Q=W[0],z=W[1],F=Object(a.useState)(""),U=Object(d.a)(F,2),J=U[0],K=U[1],Y=Object(a.useState)(""),X=Object(d.a)(Y,2),te=X[0],ne=X[1],ae=Object(a.useState)(!1),ie=Object(d.a)(ae,2),ce=ie[0],oe=ie[1],re=r&&p&&g&&A&&P&&R&&Q&&r.length>2&&p.length>2&&g.length>5&&A.length>2&&!isNaN(P)&&10===P.length&&R.length>2&&!isNaN(Q)&&6===Q.length&&window.web3&&window.web3.utils.isAddress(g);i.a.useEffect((function(){le(t)}),[t]);var le=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Acc : "+t),t)try{(n=new window.web3.eth.Contract(D,T)).defaultAccount=t,n.methods.getAgencyData(t).call().then((function(e){console.log(e),ne(e)}))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)("div",{className:n.leftDiv,children:Object(k.jsx)("img",{src:Z,width:"60%",height:"60%",alt:"Blood Donation Pic",style:{marginTop:30}})}),Object(k.jsxs)("div",{className:n.rightDiv,children:[J&&Object(k.jsx)(w.a,{style:{margin:10},severity:"success",children:J}),t===N&&ce?Object(k.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(k.jsx)(E.a,{required:!0,id:"name",label:"Agency Name",variant:"outlined",value:p,onChange:function(e){return h(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agencytype",label:"Agency Type",variant:"outlined",value:r,onChange:function(e){return u(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agency_address",label:"Agency Address",variant:"outlined",value:g,onChange:function(e){return f(e.currentTarget.value)}}),g&&window.web3&&!window.web3.utils.isAddress(g)&&Object(k.jsx)("p",{children:"Not a valid address!"}),Object(k.jsx)(E.a,{required:!0,id:"contact_person",label:"Contact Person",variant:"outlined",value:A,onChange:function(e){return S(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"contact_number",label:"Contact Number",variant:"outlined",value:P,onChange:function(e){return M(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agency_address",label:"Address",variant:"outlined",value:R,onChange:function(e){return H(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agency_pincode",label:"Pincode",variant:"outlined",value:Q,onChange:function(e){return z(e.currentTarget.value)}}),Object(k.jsx)(V.a,{variant:"contained",color:"primary",disabled:!re,onClick:function(){return function(){if(re){console.log("Adding Agecy");var e=new window.web3.eth.Contract(D,T);e.defaultAccount=t;try{e.methods.addAgency(r,p,g,A,P,R,Q).send({from:t}),K("Added Agency Details Successfully!\nView it on Etherscan!"),setTimeout((function(){window.location="/bloodbank/#/"}),2e3)}catch(n){console.log(n)}}}()},children:"Add Agency"})]}):Object(k.jsxs)(O.a,{className:n.card,children:[Object(k.jsxs)(v.a,{children:[Object(k.jsxs)(x.a,{variant:"h5",component:"h2",children:["Agency Name : ",te.agencyName]}),Object(k.jsxs)(x.a,{variant:"body2",component:"p",children:["Agency Type : ",te.agencyType,Object(k.jsx)("br",{}),"Address : ",te.addressID,Object(k.jsx)("br",{}),"Contact Person : ",te.contactPerson,Object(k.jsx)("br",{}),"Contact Number : ",te.contactNo,Object(k.jsx)("br",{}),"Agency Address : ",te.agencyAddress,Object(k.jsx)("br",{}),"Pincode : ",te.pincode]})]}),Object(k.jsx)($.a,{children:t===N&&Object(k.jsx)(V.a,{onClick:function(){return oe(!0)},children:"Add Agency"})})]})]})]})},ne=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",margin:20},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"60vh"},card:{minWidth:500,marginTop:30,minHeight:250},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),ae=function(e){var t=e.account,n=ne(),i=Object(a.useState)(""),c=Object(d.a)(i,2),o=c[0],r=c[1],l=Object(a.useState)(""),s=Object(d.a)(l,2),u=s[0],b=s[1],j=Object(a.useState)(""),p=Object(d.a)(j,2),h=p[0],y=p[1],m=Object(a.useState)(""),g=Object(d.a)(m,2),f=g[0],O=g[1],v=Object(a.useState)(""),x=Object(d.a)(v,2),C=x[0],B=x[1],A=Object(a.useState)(""),S=Object(d.a)(A,2),_=S[0],I=S[1],P=Object(a.useState)(""),M=Object(d.a)(P,2),q=M[0],G=M[1],R=o&&u&&h&&f&&C&&_&&o.length>2&&u.length>2&&h.length>2&&!isNaN(f)&&10===f.length&&C.length>2&&!isNaN(_)&&6===_.length;return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)("div",{className:n.leftDiv,children:Object(k.jsx)("img",{src:Z,width:"60%",height:"60%",alt:"Blood Donation Pic",style:{marginTop:30}})}),Object(k.jsxs)("div",{className:n.rightDiv,children:[q&&Object(k.jsx)(w.a,{style:{margin:10},severity:"success",children:q}),t===N&&Object(k.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(k.jsx)(E.a,{required:!0,id:"name",label:"Health Care Name",variant:"outlined",value:u,onChange:function(e){return b(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agencytype",label:"Health Care  Type",variant:"outlined",value:o,onChange:function(e){return r(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"contact_person",label:"Contact Person",variant:"outlined",value:h,onChange:function(e){return y(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"contact_number",label:"Contact Number",variant:"outlined",value:f,onChange:function(e){return O(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agency_address",label:"Address",variant:"outlined",value:C,onChange:function(e){return B(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"agency_pincode",label:"Pincode",variant:"outlined",value:_,onChange:function(e){return I(e.currentTarget.value)}}),Object(k.jsx)(V.a,{variant:"contained",color:"primary",disabled:!R,onClick:function(){return function(){if(R){console.log("Adding Health Care");var e=new window.web3.eth.Contract(D,T);e.defaultAccount=t;try{e.methods.addHealthCareAgency(o,u,h,f,C,_).send({from:t}).then((function(e){console.log("Data : "+e),G("Agency Registered Successfully!")})),G("Added Health Care Details Successfully!\nView it on Etherscan!"),setTimeout((function(){window.location="/bloodbank/#/"}),2e3)}catch(n){console.log(n)}}}()},children:"Add Health Care"})]})]})]})},ie=n.p+"static/media/dashboard.a8691c56.svg",ce=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:0,padding:30,alignItems:"end",flex:2},left:{flex:1,padding:50},right:{flex:1},imgSVG:{width:600,height:600},card:{minWidth:250,marginLeft:10,marginRight:10,marginBottom:10},groupGrid:{display:"grid","grid-template-columns":"200px 200px 100px","grid-gap":"10px"},hStats:{display:"flex",flexDirection:"row"}}})),oe=function(e){var t=e.account,n=ce(),a=i.a.useState({}),c=Object(d.a)(a,2),o=c[0],r=c[1];i.a.useEffect((function(){u(t)}),[t]);var u=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a,i,c,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Acc : "+t),!t){e.next=27;break}e.prev=2,(n=new window.web3.eth.Contract(D,T)).defaultAccount=t,a=[],i=0;case 7:if(!(i<8)){e.next=15;break}return e.next=10,n.methods.getBloodBottleGroupTotal(i).call();case 10:c=e.sent,a.push(c);case 12:i++,e.next=7;break;case 15:return e.next=17,n.methods.totalSupply().call();case 17:return o=e.sent,e.next=20,n.methods.totalAgency().call();case 20:s=e.sent,r({bloods:a,totalSupply:o,totalAgency:s}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsxs)("div",{className:n.left,children:[Object(k.jsxs)("div",{className:n.hStats,children:[Object(k.jsx)(O.a,{className:n.card,children:Object(k.jsxs)(v.a,{children:[Object(k.jsx)(x.a,{variant:"h5",component:"h2",children:"Agency Registered"}),Object(k.jsx)(x.a,{variant:"h3",component:"h2",children:o.totalAgency})]})}),Object(k.jsx)(O.a,{className:n.card,children:Object(k.jsxs)(v.a,{children:[Object(k.jsx)(x.a,{variant:"h5",component:"h2",children:"Blood Supply"}),Object(k.jsx)(x.a,{variant:"h3",component:"h2",children:o.totalSupply})]})})]}),Object(k.jsx)("div",{className:n.groupGrid,children:o.bloods&&o.bloods.map((function(e,t){return Object(k.jsx)(O.a,{style:{width:200,height:120},children:Object(k.jsxs)(v.a,{children:[Object(k.jsx)(x.a,{variant:"h5",component:"h2",children:A(t)}),Object(k.jsx)(x.a,{variant:"h5",component:"h5",children:e}),Object(k.jsx)(V.a,{color:"primary",disabled:e<1,onClick:function(){return window.location="/bloodbank/#/bulkdelivery/"+e+"/"+t},children:"BULK DELIVERY"})]})})}))})]}),Object(k.jsx)("div",{className:n.right,children:Object(k.jsx)("img",{src:ie,className:n.imgSVG})})]})},re=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",margin:20},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"80vh"}}})),le=function(e){var t=e.account,n=re(),c=Object(u.f)(),o=Object(a.useState)(""),r=Object(d.a)(o,2),l=r[0],s=r[1],b=Object(a.useState)(""),j=Object(d.a)(b,2),p=j[0],h=j[1],y=Object(a.useState)(""),m=Object(d.a)(y,2),g=m[0],f=m[1],O=Object(a.useState)(""),v=Object(d.a)(O,2),x=v[0],C=v[1],B=Object(a.useState)(""),A=Object(d.a)(B,2),S=A[0],_=A[1],I=Object(a.useState)(""),P=Object(d.a)(I,2),M=P[0],q=P[1],G=Object(a.useState)(""),R=Object(d.a)(G,2),H=R[0],L=R[1],W=Object(a.useState)(0),J=Object(d.a)(W,2),K=J[0],Y=J[1],X=Object(a.useState)([]),$=Object(d.a)(X,2),ee=$[0],te=$[1],ne=p&&g&&x&&M&&H&&ee&&g&&p.length>2&&!isNaN(S)&&10===S.length&&!isNaN(g);i.a.useEffect((function(){return ae()}),[t]);var ae=function(){if(t){var e=new window.web3.eth.Contract(D,T);e.defaultAccount=t,e.methods.getHealthCareAgencyList(0).call().then((function(e){var t=e.filter((function(e){return"0"!==e.pincode})).map((function(e,t){return{agencyType:e.agencyType,agencyName:e.agencyName,contactPerson:e.contactPerson,contactNo:e.contactNo,agencyAddress:e.agencyAddress,pincode:e.pincode}}));te(t),console.log(e)})).catch((function(e){console.log(e)}))}};return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)("div",{className:n.leftDiv,children:Object(k.jsx)("img",{src:Z,width:"60%",height:"60%",alt:"Blood Donation Pic",style:{marginTop:30}})}),Object(k.jsxs)("div",{className:n.rightDiv,children:[l&&Object(k.jsx)(w.a,{style:{margin:10},severity:"success",children:l}),Object(k.jsxs)("h3",{children:["Blood Delivery, Bottle Id : ",c.id]}),t===N&&Object(k.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(k.jsx)(E.a,{required:!0,id:"name",label:"Name",variant:"outlined",value:p,onChange:function(e){return h(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"age",label:"Age",variant:"outlined",value:g,onChange:function(e){return f(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"mdc",label:"Medical Details",variant:"outlined",value:x,onChange:function(e){return C(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"Contact_Number",label:"Contact Number",variant:"outlined",value:S,onChange:function(e){return _(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"doctor_name",label:"Doctor Name",variant:"outlined",value:H,onChange:function(e){return L(e.currentTarget.value)}}),Object(k.jsxs)(U.a,{variant:"outlined",className:n.formControl,children:[Object(k.jsx)(F.a,{id:"demo-simple-select-outlined-label",children:"Health Care"}),Object(k.jsxs)(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:K,onChange:function(e){var t;-1==(t=e.target.value)?window.location="/bloodbank/#/addhealthcare":Y(t)},label:"Health Care",children:[null===ee||void 0===ee?void 0:ee.map((function(e,t){return Object(k.jsx)(z.a,{value:t,children:e.agencyName+", "+e.agencyType+", "+e.contactPerson+", "+e.contactNo+", "+e.agencyAddress+", "+e.pincode})})),Object(k.jsx)(z.a,{value:-1,children:"Add New"})]})]}),Object(k.jsx)(E.a,{id:"remarks",label:"Remarks",variant:"outlined",value:M,onChange:function(e){return q(e.currentTarget.value)}}),Object(k.jsx)(V.a,{variant:"contained",color:"primary",disabled:!ne,onClick:function(){return function(){if(ne){console.log("Making delivery Blood");var e=new window.web3.eth.Contract(D,T);e.defaultAccount=t;var n=(new Date).toLocaleDateString();n=window.web3.utils.fromAscii(n);try{e.methods.DeliverBloodBottle(c.id,window.web3.utils.fromAscii(M),window.web3.utils.fromAscii(p),g,window.web3.utils.fromAscii(x),S,H,n,n,K).send({from:t}),s("Blood Delivered Successfully!\nView it on Etherscan!"),setTimeout((function(){window.location="/bloodbank/#/"}),2e3)}catch(a){console.log(a)}}}()},children:"Deliver Bottle"})]})]})]})},se=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center"},leftDiv:{width:"100%",alignItems:"center",height:"90vh"},rightDiv:{width:"100%",display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"space-between",height:"85vh"}}})),de=function(e){var t=e.account,n=se(),c=Object(u.f)(),o=Object(a.useState)(""),r=Object(d.a)(o,2),l=r[0],s=r[1],b=Object(a.useState)(""),j=Object(d.a)(b,2),p=j[0],h=j[1],y=Object(a.useState)(""),m=Object(d.a)(y,2),g=m[0],f=m[1],O=Object(a.useState)(""),v=Object(d.a)(O,2),x=v[0],C=v[1],B=Object(a.useState)(""),S=Object(d.a)(B,2),_=S[0],I=S[1],P=Object(a.useState)(""),M=Object(d.a)(P,2),q=M[0],G=M[1],R=Object(a.useState)(""),H=Object(d.a)(R,2),L=H[0],W=H[1],J=Object(a.useState)(0),K=Object(d.a)(J,2),Y=K[0],X=K[1],$=Object(a.useState)(1),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),ie=Object(d.a)(ae,2),ce=ie[0],oe=ie[1],re=p&&g&&x&&q&&L&&ce&&g&&p.length>2&&!isNaN(_)&&10===_.length&&ce.length>0&&!isNaN(g);i.a.useEffect((function(){return le()}),[t]);var le=function(){if(t){var e=new window.web3.eth.Contract(D,T);e.defaultAccount=t,e.methods.getHealthCareAgencyList(0).call().then((function(e){var t=e.filter((function(e){return"0"!==e.pincode})).map((function(e,t){return{agencyType:e.agencyType,agencyName:e.agencyName,contactPerson:e.contactPerson,contactNo:e.contactNo,agencyAddress:e.agencyAddress,pincode:e.pincode}}));oe(t),console.log(e)})).catch((function(e){console.log(e)}))}};return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)("div",{className:n.leftDiv,children:Object(k.jsx)("img",{src:Z,width:"60%",height:"60%",alt:"Blood Donation Pic",style:{marginTop:30}})}),Object(k.jsxs)("div",{className:n.rightDiv,children:[l&&Object(k.jsx)(w.a,{style:{margin:10},severity:"success",children:l}),Object(k.jsxs)("h3",{children:["Bulk Blood Delivery, Blood Group : ",A(c.gp)]}),t===N&&Object(k.jsxs)("form",{className:n.rightDiv,autoComplete:"off",children:[Object(k.jsx)(E.a,{required:!0,id:"name",label:"Name",variant:"outlined",value:p,onChange:function(e){return h(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"age",label:"Age",variant:"outlined",value:g,onChange:function(e){return f(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"mdc",label:"Medical Details",variant:"outlined",value:x,onChange:function(e){return C(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"Contact_Number",label:"Contact Number",variant:"outlined",value:_,onChange:function(e){return I(e.currentTarget.value)}}),Object(k.jsx)(E.a,{required:!0,id:"doctor_name",label:"Doctor Name",variant:"outlined",value:L,onChange:function(e){return W(e.currentTarget.value)}}),Object(k.jsxs)(U.a,{variant:"outlined",className:n.formControl,children:[Object(k.jsx)(F.a,{id:"demo-simple-select-outlined-label",children:"Health Care"}),Object(k.jsxs)(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:Y,onChange:function(e){var t;-1==(t=e.target.value)?window.location="/bloodbank/#/addhealthcare":X(t)},label:"Health Care",children:[null===ce||void 0===ce?void 0:ce.map((function(e,t){return Object(k.jsx)(z.a,{value:t,children:e.agencyName+", "+e.agencyType+", "+e.contactPerson+", "+e.contactNo+", "+e.agencyAddress+", "+e.pincode})})),Object(k.jsx)(z.a,{value:-1,children:"Add New"})]})]}),Object(k.jsxs)(U.a,{variant:"outlined",className:n.formControl,children:[Object(k.jsx)(F.a,{id:"demo-simple",children:"Number Of Bottle"}),Object(k.jsx)(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:te,onChange:function(e){ne(e.target.value)},label:"Number of Bottle",children:Array(parseInt(c.max)||1).fill(1).map((function(e,t){return Object(k.jsx)(z.a,{value:t+1,children:t+1})}))})]}),Object(k.jsx)(E.a,{id:"remarks",label:"Remarks",variant:"outlined",value:q,onChange:function(e){return G(e.currentTarget.value)}}),Object(k.jsx)(V.a,{variant:"contained",color:"primary",disabled:!re,onClick:function(){return function(){if(re){console.log("Making delivery Blood");var e=new window.web3.eth.Contract(D,T);e.defaultAccount=t;var n=(new Date).toLocaleDateString();n=window.web3.utils.fromAscii(n);try{e.methods.BulkDeliveryBloodBottle(te,c.gp,window.web3.utils.fromAscii(q),window.web3.utils.fromAscii(p),g,window.web3.utils.fromAscii(x),_,L,n,n,Y).send({from:t}),s("Blood Delivered Successfully!\nView it on Etherscan!"),setTimeout((function(){window.location="/bloodbank/#/"}),2e3)}catch(a){console.log(a)}}}()},children:"Bulk Deliver Bottle"})]})]})]})},ue=n(617),be=n(621),je=n(620),pe=n(616),he=n(618),ye=n(619),me=n(168),ge=n.n(me),fe=Object(p.a)({table:{minWidth:650}});function Oe(e){var t=e.data,n=e.verifyBottle,a=fe();return Object(k.jsx)(pe.a,{component:h.a,children:Object(k.jsxs)(ue.a,{className:a.table,"aria-label":"simple table",children:[Object(k.jsx)(he.a,{children:Object(k.jsxs)(ye.a,{children:[Object(k.jsx)(je.a,{children:"Blood ID"}),Object(k.jsx)(je.a,{children:"Blood Group"}),Object(k.jsx)(je.a,{children:"Quality"}),Object(k.jsx)(je.a,{children:"Donor"}),Object(k.jsx)(je.a,{children:"Donor Age"}),Object(k.jsx)(je.a,{children:"Medical Details"}),Object(k.jsx)(je.a,{children:"Donor Contact No"}),Object(k.jsx)(je.a,{children:"Agency"}),Object(k.jsx)(je.a,{children:"Created"}),Object(k.jsx)(je.a,{children:"Status"}),Object(k.jsx)(je.a,{children:"Actions"})]})}),Object(k.jsx)(be.a,{children:t.map((function(e){return Object(k.jsxs)(ye.a,{children:[Object(k.jsx)(je.a,{children:e.id}),Object(k.jsx)(je.a,{children:A(e.bloodGroup)}),Object(k.jsx)(je.a,{children:e.Quality}),Object(k.jsx)(je.a,{children:e.Donar}),Object(k.jsx)(je.a,{children:e.age}),Object(k.jsx)(je.a,{children:e.md}),Object(k.jsx)(je.a,{children:e.ph}),Object(k.jsx)(je.a,{children:e.agency}),Object(k.jsx)(je.a,{children:e.created}),Object(k.jsx)(je.a,{children:(t=e.status,B[t%=3])}),Object(k.jsx)(je.a,{children:2==e.status?Object(k.jsx)(ge.a,{style:{cursor:"pointer"}}):Object(k.jsx)(V.a,{variant:"contained",color:"primary",onClick:function(){return 0==e.status?n(e.id):(t=e.id,a=e.bloodGroup,void(window.location="/bloodbank/#/deliver/"+t+"/"+a));var t,a},children:0==e.status?"Verify":"Deliver"})})]},e.id);var t}))})]})})}var ve=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",margin:20,height:"90vh"},page:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"space-between",width:100,cursor:"pointer"}}})),xe=function(e){var t=e.account,n=ve(),a=i.a.useState(1),c=Object(d.a)(a,2),o=c[0],r=c[1],l=i.a.useState([]),s=Object(d.a)(l,2),u=s[0],b=s[1];i.a.useEffect((function(){return j(1)}),[t]);var j=function(e){if(console.log("Getting blood details",e),console.log("Account Details ",t),null!=e&&!isNaN(e)){var n=new window.web3.eth.Contract(D,T);n.defaultAccount=t,n.methods.getBloodBottleList(10*(e-1)).call().then((function(e){var t=e.filter((function(e){return"0x0000000000000000000000000000000000000000"!==e.agency})).map((function(e){return{id:e.BloodBottleId,bloodGroup:e.BloodGroup,Quality:window.web3.utils.toAscii(e.Quality),Donar:window.web3.utils.toAscii(e.DonerName),age:e.DonerAge,md:window.web3.utils.toAscii(e.DonerMedicalDetails),ph:e.DonerContactNo,agency:e.agency,created:window.web3.utils.toAscii(e.DateCreated),status:e.Status}}));b(t),console.log(e)})).catch((function(e){console.log(e)}))}};return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)(Oe,{data:u,verifyBottle:function(e){if(console.log("Verifying blood details",e),null!=e){var n=new window.web3.eth.Contract(D,T);n.defaultAccount=t,n.methods.verifyBloodBottle(e).send({from:t}).then((function(e){console.log("Verified"),j(o)})).catch((function(e){console.log(e)}))}}}),Object(k.jsxs)("div",{className:n.page,children:[Object(k.jsx)("p",{onClick:function(){o>1&&(j(o-1),r(o-1))},children:" << "}),Object(k.jsx)("h3",{children:o}),Object(k.jsx)("p",{onClick:function(){10===u.length&&(j(o+1),r(o+1))},children:" >> "})]})]})},we=Object(p.a)({table:{minWidth:650}});function Te(e){var t=e.data,n=(e.verifyBottle,we());return Object(k.jsx)(pe.a,{component:h.a,children:Object(k.jsxs)(ue.a,{className:n.table,"aria-label":"simple table",children:[Object(k.jsx)(he.a,{children:Object(k.jsxs)(ye.a,{children:[Object(k.jsx)(je.a,{children:"Index"}),Object(k.jsx)(je.a,{children:"HealthCare Name"}),Object(k.jsx)(je.a,{children:"HealthCare Type"}),Object(k.jsx)(je.a,{children:"Contact Person"}),Object(k.jsx)(je.a,{children:"Contact Number"}),Object(k.jsx)(je.a,{children:"Agency Address"}),Object(k.jsx)(je.a,{children:"Pincode"}),Object(k.jsx)(je.a,{children:"NoBottlesDemanded"})]})}),Object(k.jsx)(be.a,{children:t.map((function(e,t){return Object(k.jsxs)(ye.a,{children:[Object(k.jsx)(je.a,{children:t+1}),Object(k.jsx)(je.a,{children:e.agencyName}),Object(k.jsx)(je.a,{children:e.agencyType}),Object(k.jsx)(je.a,{children:e.contactPerson}),Object(k.jsx)(je.a,{children:e.contactNo}),Object(k.jsx)(je.a,{children:e.agencyAddress}),Object(k.jsx)(je.a,{children:e.pincode}),Object(k.jsx)(je.a,{children:e.NoBottlesDemanded})]},t)}))})]})})}var De=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",margin:20,height:"90vh"},page:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"space-between",width:100,cursor:"pointer"}}})),Ne=function(e){var t=e.account,n=De(),a=i.a.useState(1),c=Object(d.a)(a,2),o=c[0],r=(c[1],i.a.useState([])),l=Object(d.a)(r,2),s=l[0],u=l[1];i.a.useEffect((function(){return b(1)}),[t]);var b=function(e){if(console.log("Getting blood Distribution details",e),console.log("Account Details ",t),t&&null!=e&&!isNaN(e)){var n=new window.web3.eth.Contract(D,T);n.defaultAccount=t,n.methods.getHealthCareAgencyList(0).call().then((function(e){var t=e.filter((function(e){return"0"!==e.pincode})).map((function(e,t){return{agencyType:e.agencyType,agencyName:e.agencyName,contactPerson:e.contactPerson,contactNo:e.contactNo,agencyAddress:e.agencyAddress,pincode:e.pincode,NoBottlesDemanded:e.NoBottlesDemanded}}));u(t),console.log(e)})).catch((function(e){console.log(e)}))}};return Object(k.jsx)("div",{className:n.root,children:Object(k.jsx)(Te,{data:s,verifyBottle:function(e){if(console.log("Verifying blood details",e),null!=e){var n=new window.web3.eth.Contract(D,T);n.defaultAccount=t,n.methods.verifyBloodBottle(e).send({from:t}).then((function(e){console.log("Verified"),b(o)})).catch((function(e){console.log(e)}))}}})})},Ce=n(268),Be=n.n(Ce);var Ae=function(){var e=i.a.useState(""),t=Object(d.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=20;break}return e.prev=1,e.next=4,window.ethereum.send("eth_requestAccounts");case 4:return window.web3=new Be.a(window.ethereum),e.next=7,window.web3.eth.getAccounts();case 7:return t=e.sent,console.log("Accounts ",t),a(t[0]),e.abrupt("return",!0);case 13:if(e.prev=13,e.t0=e.catch(1),!e.t0||4001!==e.t0.code){e.next=18;break}return console.log("User denied connection!"),e.abrupt("return",!0);case 18:return console.log("Error In Wallet connect: ",e.t0),e.abrupt("return",!1);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:if(e.sent){e.next=4;break}alert("Please Install A Ethereum Wallet!");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.useEffect((function(){o()}),[]),console.log("Account : ",n),console.log(o),Object(k.jsxs)("div",{className:"App",style:{background:"red",width:"100vw",height:"100vh",overflow:"hidden"},children:[Object(k.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",marginRight:100},children:Object(k.jsx)(L,{isOwner:n===N,checkAndConnectToWallet:o,account:n})}),Object(k.jsx)(b.a,{children:Object(k.jsxs)(u.c,{children:[Object(k.jsx)(u.a,{path:"/about",children:Object(k.jsx)(P,{})}),Object(k.jsx)(u.a,{path:"/registration",children:Object(k.jsx)(K,{account:n})}),Object(k.jsx)(u.a,{path:"/developer",children:Object(k.jsx)(X,{})}),Object(k.jsx)(u.a,{path:"/about",children:Object(k.jsx)(P,{})}),Object(k.jsx)(u.a,{path:"/addagency",children:Object(k.jsx)(te,{account:n})}),Object(k.jsx)(u.a,{path:"/addhealthcare",children:Object(k.jsx)(ae,{account:n})}),Object(k.jsx)(u.a,{path:"/stats",children:Object(k.jsx)(oe,{account:n})}),Object(k.jsx)(u.a,{path:"/deliver/:id/:gp",children:Object(k.jsx)(le,{account:n})}),Object(k.jsx)(u.a,{path:"/bulkdelivery/:max/:gp",children:Object(k.jsx)(de,{account:n})}),Object(k.jsx)(u.a,{path:"/collection",children:Object(k.jsx)(xe,{account:n})}),Object(k.jsx)(u.a,{path:"/distribution",children:Object(k.jsx)(Ne,{account:n})}),Object(k.jsx)(u.a,{path:"/",children:Object(k.jsx)(_,{account:n})})]})})]})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,629)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(Ae,{})}),document.getElementById("root")),ke()}},[[572,1,2]]]);
//# sourceMappingURL=main.fbbc6c66.chunk.js.map